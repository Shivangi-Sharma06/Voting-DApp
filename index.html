<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethereum Voting DApp</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
</head>

<body>

    <select id="accountSelect" style="display: none;" onchange="selectAccount(event)">
    </select>
    
    <p id="accountEl"></p>
    <p id="controllerAddress"></p> 

    <button id="connectWallet">Connect Wallet</button>
<p id="connectionStatus">Not Connected</p>
<p id="walletAddress">Wallet Address: -</p>


    <div class="container">
        <h1>Voting DApp</h1>

        <div id="controllerActions">
            <h2>Controller Actions</h2>
            <h4>Add Candidate</h4>
            <input type="text" id="candidateName" placeholder="Candidate Name">
            <button id="addCandidateBtn">Add Candidate</button>
            <span class="controller-only"></span>
        </div>

        <div class="action-group">
            <h4>Remove Candidate</h4>
            <input type="number" id="removeCandidateId" placeholder="Candidate ID">
            <button id="removeCandidateBtn">Remove Candidate</button>
            <span class="controller-only"></span>
        </div>

        <div class="action-group">
            <h4>Change Controller</h4>
            <input type="text" id="newControllerAddress" placeholder="New Controller Address">
            <button id="changeControllerBtn">Change Controller</button>
            <span class="controller-only"></span>
        </div>

        <div>
            <h3>Vote for a Candidate</h3>
            <input type="number" id="candidateIdToVote" placeholder="Candidate ID">
            <button id="voteBtn">Vote</button>
        </div>

        <div id="candidateList">
            <h2>Candidates</h2>
            <ul id="candidates"></ul>
        </div>
    </div>



    <script type="module" src="./app.js" defer></script>
    <!--this defer means js will only execute after html is properly loaded-->
    <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.6.9/ethers.umd.min.js"></script>

</body>
</body>

</html>